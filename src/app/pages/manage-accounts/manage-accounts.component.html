<div class="p-6">
  <h2 class="text-2xl font-semibold mb-4">Manage Accounts</h2>

  <div class="bg-white shadow-md rounded p-4 mb-6">
    <form (ngSubmit)="editedUserIndex === null ? addUser() : updateUser()" class="grid grid-cols-2 gap-4">
      <input [(ngModel)]="newUser.name" name="name" placeholder="Name" class="border rounded px-3 py-2" required />
      <input [(ngModel)]="newUser.email" name="email" placeholder="Email" class="border rounded px-3 py-2" required />
      <input [(ngModel)]="newUser.username" name="username" placeholder="Username" class="border rounded px-3 py-2" required />
      <input [(ngModel)]="newUser.password" name="password" placeholder="Password" type="password" class="border rounded px-3 py-2" required />

      <select [(ngModel)]="newUser.role" name="role" class="border rounded px-3 py-2 col-span-2">
        <option value="Admin">Admin</option>
        <option value="Editor">Editor</option>
        <option value="Viewer">Viewer</option>
      </select>

      <div class="col-span-2 flex gap-2">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">
          {{ editedUserIndex === null ? 'Add User' : 'Update User' }}
        </button>
        <button type="button" *ngIf="editedUserIndex !== null" (click)="cancelEdit()" class="bg-gray-400 text-white px-4 py-2 rounded">
          Cancel
        </button>
      </div>
    </form>
  </div>

  <div class="overflow-x-auto">
    <table class="min-w-full bg-white shadow rounded">
      <thead class="bg-gray-100">
      <tr>
        <th class="text-left py-2 px-4">Name</th>
        <th class="text-left py-2 px-4">Email</th>
        <th class="text-left py-2 px-4">Username</th>
        <th class="text-left py-2 px-4">Role</th>
        <th class="text-left py-2 px-4">Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of users; let i = index" class="border-t">
        <td class="py-2 px-4">{{ user.name }}</td>
        <td class="py-2 px-4">{{ user.email }}</td>
        <td class="py-2 px-4">{{ user.username }}</td>
        <td class="py-2 px-4">{{ user.role }}</td>
        <td class="py-2 px-4 flex gap-2">
          <button (click)="editUser(i)" class="bg-yellow-500 text-white px-2 py-1 rounded">Edit</button>
          <button (click)="deleteUser(i)" class="bg-red-500 text-white px-2 py-1 rounded">Delete</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
