<header class="bg-white text-gray-900 shadow-md dark:bg-gray-800 dark:text-white">
  <div class="flex items-center justify-between px-4 py-1">
    <div class="flex items-center">
      <a routerLink="/project-dashboard" class="text-xl font-semibold text-blue-700 font-sans hover:text-blue-800 dark:hover:text-blue-400 cursor-pointer">PPDO-AR</a>
    </div>

    <div class="relative flex items-center">
      <span class="pr-4 ml-4 font-semibold text-gray-600 dark:text-gray-300">{{ currentTime }}</span>

      <div
        class="flex items-center space-x-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-1 rounded-md"
        (click)="toggleMenu()"
      >
        <div *ngIf="currentUser"
             class="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold"
             [ngStyle]="{ 'background-color': avatarColor }">
          {{ initials }}
        </div>

        <span class="text-gray-700 dark:text-gray-200">
          {{
            currentUser
              ? currentUser.firstName + ' ' + currentUser.lastName
              : 'User'
          }}
        </span>
      </div>

      <div
        *ngIf="menuOpen"
        class="absolute right-0 mt-2 w-40 bg-white border rounded-lg shadow-lg z-10 dark:bg-gray-700 dark:border-gray-600"
        style="top: 100%;"
      >
        <a
          routerLink="/profile"
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600"
          (click)="closeMenu()"
        >
          Profile
        </a>
        <button
          class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600"
          (click)="logout()"
        >
          Logout
        </button>
      </div>
    </div>
  </div>
</header>
